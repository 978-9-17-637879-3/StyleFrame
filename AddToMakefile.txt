create_style_frame:
	docker build -f style_frame_files/StyleFrame -t "style-frame-base" . && docker run --rm -t style-frame-base /bin/bash -c "echo \"OCLint License: \" && cat /root/oclint-release/LICENSE && echo \"PMD License: \" && cat /root/pmd-bin-6.0.1/LICENSE; echo \"Make sure to read the above licenses before using the software! If you don't see any, do not use the software and notify the developer!\""


# https://stackoverflow.com/a/23324703
WORKING_DIR := $(shell dirname $(realpath $(firstword $(MAKEFILE_LIST))))

# 2>&1 redirects stderr to stdout so that both can be passed to sed
style_frame:
	docker build -f style_frame_files/TempStyleFrame -t "temp-style-frame" . && docker run --rm -t temp-style-frame /bin/bash -c "make style 2>&1 | sed s#/root/src#$(WORKING_DIR)#g"; echo "Cleaning up temporary style frame..." && docker rmi temp-style-frame && echo "Temporary style frame cleaned up!"
